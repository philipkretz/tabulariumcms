fos_elastica:
    clients:
        default:
            host: '%env(ELASTICSEARCH_HOST)%'
            port: 9200

    indexes:
        # Articles/Products Index
        articles:
            index_name: '%env(ELASTICSEARCH_INDEX_PREFIX)%_articles'
            settings:
                analysis:
                    analyzer:
                        autocomplete_analyzer:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase, autocomplete_filter]
                        autocomplete_search:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase]
                    filter:
                        autocomplete_filter:
                            type: edge_ngram
                            min_gram: 2
                            max_gram: 20
            properties:
                id:
                    type: integer
                name:
                    type: text
                    analyzer: autocomplete_analyzer
                    search_analyzer: autocomplete_search
                    boost: 3.0
                    fields:
                        keyword:
                            type: keyword
                slug:
                    type: keyword
                type:
                    type: keyword
                description:
                    type: text
                    analyzer: standard
                    boost: 0.5
                shortDescription:
                    type: text
                    analyzer: standard
                    boost: 0.8
                sku:
                    type: text
                    analyzer: autocomplete_analyzer
                    search_analyzer: autocomplete_search
                    boost: 2.0
                    fields:
                        keyword:
                            type: keyword
                grossPrice:
                    type: scaled_float
                    scaling_factor: 100
                netPrice:
                    type: scaled_float
                    scaling_factor: 100
                taxRate:
                    type: scaled_float
                    scaling_factor: 100
                isActive:
                    type: boolean
                isFeatured:
                    type: boolean
                stock:
                    type: integer
                ignoreStock:
                    type: boolean
                inStock:
                    type: boolean
                categoryId:
                    type: integer
                categoryName:
                    type: text
                    analyzer: autocomplete_analyzer
                    search_analyzer: autocomplete_search
                    boost: 2.0
                imageUrl:
                    type: keyword
                imageAlt:
                    type: text
                detailUrl:
                    type: keyword
                createdAt:
                    type: date
                updatedAt:
                    type: date
            persistence:
                driver: orm
                model: App\Entity\Article
                provider: ~
                finder: ~
                listener:
                    enabled: true

        # Blog Posts Index
        posts:
            index_name: '%env(ELASTICSEARCH_INDEX_PREFIX)%_posts'
            settings:
                analysis:
                    analyzer:
                        autocomplete_analyzer:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase, autocomplete_filter]
                        autocomplete_search:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase]
                    filter:
                        autocomplete_filter:
                            type: edge_ngram
                            min_gram: 2
                            max_gram: 20
            properties:
                id:
                    type: integer
                title:
                    type: text
                    analyzer: autocomplete_analyzer
                    search_analyzer: autocomplete_search
                    boost: 3.0
                    fields:
                        keyword:
                            type: keyword
                slug:
                    type: keyword
                excerpt:
                    type: text
                    analyzer: standard
                    boost: 1.5
                content:
                    type: text
                    analyzer: standard
                    boost: 1.0
                status:
                    type: keyword
                metaTitle:
                    type: text
                metaDescription:
                    type: text
                    boost: 0.8
                authorId:
                    type: integer
                authorName:
                    type: text
                featuredImageUrl:
                    type: keyword
                detailUrl:
                    type: keyword
                publishedAt:
                    type: date
                createdAt:
                    type: date
                updatedAt:
                    type: date
            persistence:
                driver: orm
                model: App\Entity\Post
                provider: ~
                finder: ~
                listener:
                    enabled: true

        # CMS Pages Index
        pages:
            index_name: '%env(ELASTICSEARCH_INDEX_PREFIX)%_pages'
            settings:
                analysis:
                    analyzer:
                        autocomplete_analyzer:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase, autocomplete_filter]
                        autocomplete_search:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase]
                    filter:
                        autocomplete_filter:
                            type: edge_ngram
                            min_gram: 2
                            max_gram: 20
            properties:
                id:
                    type: integer
                title:
                    type: text
                    analyzer: autocomplete_analyzer
                    search_analyzer: autocomplete_search
                    boost: 3.0
                    fields:
                        keyword:
                            type: keyword
                slug:
                    type: keyword
                content:
                    type: text
                    analyzer: standard
                    boost: 1.0
                metaTitle:
                    type: text
                metaDescription:
                    type: text
                    boost: 0.8
                isPublished:
                    type: boolean
                template:
                    type: keyword
                categoryId:
                    type: integer
                categoryName:
                    type: text
                    analyzer: autocomplete_analyzer
                    search_analyzer: autocomplete_search
                detailUrl:
                    type: keyword
                createdAt:
                    type: date
                updatedAt:
                    type: date
            persistence:
                driver: orm
                model: App\Entity\Page
                provider: ~
                finder: ~
                listener:
                    enabled: true

        # Categories Index
        categories:
            index_name: '%env(ELASTICSEARCH_INDEX_PREFIX)%_categories'
            settings:
                analysis:
                    analyzer:
                        autocomplete_analyzer:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase, autocomplete_filter]
                        autocomplete_search:
                            type: custom
                            tokenizer: standard
                            filter: [lowercase]
                    filter:
                        autocomplete_filter:
                            type: edge_ngram
                            min_gram: 2
                            max_gram: 20
            properties:
                id:
                    type: integer
                name:
                    type: text
                    analyzer: autocomplete_analyzer
                    search_analyzer: autocomplete_search
                    boost: 3.0
                    fields:
                        keyword:
                            type: keyword
                slug:
                    type: keyword
                description:
                    type: text
                    analyzer: standard
                    boost: 1.0
                isActive:
                    type: boolean
                detailUrl:
                    type: keyword
                createdAt:
                    type: date
                updatedAt:
                    type: date
            persistence:
                driver: orm
                model: App\Entity\Category
                provider: ~
                finder: ~
                listener:
                    enabled: true
