{{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}

<div class="card">
    <h2 class="text-2xl font-bold mb-4">Post Information</h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
            {{ form_widget(form.title, {'attr': {'class': 'form-input'}}) }}
            {{ form_errors(form.title) }}
        </div>
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Slug</label>
            {{ form_widget(form.slug, {'attr': {'class': 'form-input'}}) }}
            {{ form_errors(form.slug) }}
        </div>
    </div>

    <div class="mt-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Excerpt</label>
        {{ form_widget(form.excerpt, {'attr': {'class': 'form-input', 'rows': 3}}) }}
        {{ form_errors(form.excerpt) }}
    </div>

    <div class="mt-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Content</label>
        <div id="editor" class="wysiwyg-editor">
            {{ form_widget(form.content, {'attr': {'class': 'hidden'}}) }}
        </div>
        {{ form_errors(form.content) }}
    </div>

    <div class="mt-6">
        <label class="block text-sm font-medium text-gray-700 mb-2">Featured Image</label>
        {{ form_widget(form.featuredImage, {'attr': {'class': 'form-input'}}) }}
        {{ form_errors(form.featuredImage) }}
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
            {{ form_widget(form.status, {'attr': {'class': 'form-input'}}) }}
            {{ form_errors(form.status) }}
        </div>
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Author</label>
            {{ form_widget(form.author, {'attr': {'class': 'form-input'}}) }}
            {{ form_errors(form.author) }}
        </div>
    </div>
</div>

<div class="card mt-6">
    <h2 class="text-2xl font-bold mb-4">SEO Settings</h2>
    
    <div class="grid grid-cols-1 gap-6">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Meta Title</label>
            {{ form_widget(form.metaTitle, {'attr': {'class': 'form-input'}}) }}
            {{ form_errors(form.metaTitle) }}
        </div>
        
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Meta Description</label>
            {{ form_widget(form.metaDescription, {'attr': {'class': 'form-input', 'rows': 3}}) }}
            {{ form_errors(form.metaDescription) }}
        </div>
    </div>
</div>

<div class="flex justify-end space-x-4 mt-8">
    <a href="{{ path('app_admin') }}" class="btn btn-secondary">Cancel</a>
    <button type="submit" class="btn btn-primary">Save Post</button>
</div>

{{ form_end(form) }}

<script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>
<script>
    ClassicEditor
        .create(document.querySelector('#editor'))
        .then(editor => {
            editor.model.document.on('change:data', () => {
                document.getElementById('post_content').value = editor.getData();
            });
        })
        .catch(error => {
            console.error(error);
        });
</script>